# to-n8n
```bash
docker compose build && docker compose up -d
```

# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Google Sheets –∏ –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—ã–ª –≤—ã–±—Ä–∞–Ω **n8n**, –ø–æ—Ç–æ–º—É —á—Ç–æ:  
- –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –∫ **Google Sheets** (–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ –∫–æ–¥–∞),  
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≥–∏–±–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (**Code node –Ω–∞ JS –¥–ª—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**),  
- —Å–µ—Ä–≤–∏—Å –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ Docker,  
- –≤ UI n8n –º–æ–∂–Ω–æ –¥–∞–∂–µ **–ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (—á–µ—Ä–µ–∑ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).  

### –°–µ—Ä–≤–∏—Å—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
- **Postgres** ‚Äî –ë–î –¥–ª—è n8n (—Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏—Å—Ç–æ—Ä–∏—è, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è).  
- **Neo4j** ‚Äî –≥—Ä–∞—Ñ–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤).  
- **Nginx** ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è.  
- **FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç:
  - –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π,  
  - –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ Neo4j,  
  - –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ –µ–≤–∫–ª–∏–¥–æ–≤—É —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é).  

---

## Workflow –≤ n8n
1. **Google Sheets** ‚Äî –≤—ã–±–∏—Ä–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ (–¥–∞—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Ü–µ–Ω–∞).  
2. **Code (JavaScript)** ‚Äî –≥—Ä—É–ø–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ –∏ —Å—á–∏—Ç–∞–µ–º —Å—É–º–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —Ü–µ–Ω—ã –∑–∞ –¥–µ–Ω—å.  
3. **HTTP Request ‚Üí FastAPI**  
   - –ø–µ—Ä–µ–¥–∞—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã;  
   - FastAPI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ –±—É–¥—É—â–µ–º –ª—É—á—à–µ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ S3).  
4. –í **Neo4j** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
   - –¥–∞—Ç–∞,
   - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞ –¥–µ–Ω—å,
   - —Å—É–º–º–∞ –∑–∞ –¥–µ–Ω—å,
   - –ø—É—Ç—å –¥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
5. –í —Ç–æ–º –∂–µ workflow –≤ n8n –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `qty=120`, `price=850`) –∏ –¥–µ–ª–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–∏—Å–∫–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç FastAPI.  
6. FastAPI –∏—â–µ—Ç –≤ –≥—Ä–∞—Ñ–æ–≤–æ–π –±–∞–∑–µ **–ø–æ—Ö–æ–∂–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ –µ–≤–∫–ª–∏–¥–æ–≤—É —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é** –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.  
7. –í n8n —ç—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ –≤–∫–ª–∞–¥–∫–µ **Binary ‚Üí View**.  

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ Google Sheets.  
- n8n –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –≤ FastAPI.  
- FastAPI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç PNG, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—É—Ç—å –∏ –¥–∞–Ω–Ω—ã–µ –≤ Neo4j.  
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–æ—Ö–æ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö FastAPI –∏—â–µ—Ç –±–ª–∏–∂–∞–π—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.  
- n8n –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç base64 –≤ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø—Ä—è–º–æ –≤ UI.  

---

## üöÄ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
1. –í Google Sheets –≤–≤–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ (Qty, Price, Date).  
2. –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è workflow –≤ n8n.  
3. FastAPI —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Neo4j –∏ —Å–æ–∑–¥–∞—ë—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.  
4. –ü—Ä–∏ –ø–æ–∏—Å–∫–µ —á–µ—Ä–µ–∑ `/results/search_many` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –±–ª–∏–∂–∞–π—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.  
5. –í n8n –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Binary Viewer.  
